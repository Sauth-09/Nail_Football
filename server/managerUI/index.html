<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‡ivi Futbolu - Sunucu YÃ¶neticisi</title>
    <link rel="icon" href="futbol.ico" type="image/x-icon">
    <link rel="shortcut icon" href="futbol.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <div class="logo-icon">âš½</div>
            <h2>Pano</h2>
        </div>
        <nav>
            <button class="tab-btn active" data-target="dashboard">
                <span class="icon">ğŸ“Š</span> Genel BakÄ±ÅŸ
            </button>
            <button class="tab-btn" data-target="users">
                <span class="icon">ğŸ‘¥</span> KullanÄ±cÄ±lar
            </button>
            <button class="tab-btn" data-target="network">
                <span class="icon">ğŸŒ</span> AÄŸ & BaÄŸlantÄ±
            </button>
            <button class="tab-btn" data-target="settings">
                <span class="icon">âš™ï¸</span> Ayarlar
            </button>
            <button class="tab-btn" data-target="logs">
                <span class="icon">ğŸ“</span> Konsol
            </button>
            <button class="tab-btn" data-target="about">
                <span class="icon">â„¹ï¸</span> HakkÄ±nda
            </button>
        </nav>
        <div class="sidebar-footer">
            <button id="btn-logout" class="btn-secondary" style="margin-bottom: 10px; width: 100%;">
                <span class="icon">ğŸ”“</span> Oturumu Kapat
            </button>
            <button id="btn-kill-manager" class="btn-danger">
                <span class="icon">ğŸšª</span> Kapat & Ã‡Ä±k
            </button>
        </div>
    </div>

    <div class="main-content">
        <header>
            <div class="status-indicator">
                <div id="status-dot" class="dot false"></div>
                <span id="status-text">Sunucu KapalÄ±</span>
            </div>
            <div class="header-actions">
                <button id="btn-start" class="btn-success">BaÅŸlat</button>
                <button id="btn-stop" class="btn-danger" disabled>Durdur</button>
                <button id="btn-restart" class="btn-warning" disabled>Yeniden BaÅŸlat</button>
            </div>
        </header>

        <div class="tab-content active" id="dashboard">
            <div class="cards-grid">
                <div class="card">
                    <h3>BaÄŸlÄ± Oyuncular</h3>
                    <div class="card-value" id="val-players">0</div>
                </div>
                <div class="card">
                    <h3>Aktif Odalar</h3>
                    <div class="card-value" id="val-rooms">0</div>
                </div>
                <div class="card">
                    <h3>Sunucu GÃ¼venlik DuvarÄ±</h3>
                    <div class="card-value status-good" id="val-firewall">Kontrol Ediliyor...</div>
                    <button id="btn-fix-firewall" class="btn-secondary mt-10 hidden">Port Ä°zni Ver (LAN)</button>
                </div>
            </div>
            
            <div class="card mt-20">
                <h3>AÄŸ Adresi (LAN Ãœzerinden Oynamak Ä°Ã§in)</h3>
                <div class="network-box">
                    <input type="text" id="network-url" readonly value="YÃ¼kleniyor...">
                    <button id="btn-copy-url" class="btn-secondary">Kopyala</button>
                </div>
                <p class="hint">Bu adresi aynÄ± WiFi aÄŸÄ±na (LAN) baÄŸlÄ± diÄŸer cihazlarÄ±n tarayÄ±cÄ±sÄ±na yazarak oynayabilirsiniz.</p>
            </div>
        </div>

        <div class="tab-content" id="network">
            <div class="card qr-card">
                <h3>QR Kod ile HÄ±zlÄ± GiriÅŸ</h3>
                <p>CihazÄ±nÄ±zÄ±n kamerasÄ±nÄ± okutarak anÄ±nda oyuna katÄ±labilirsiniz.</p>
                <div class="qr-container">
                    <img id="qr-code" src="" alt="QR Kod">
                </div>
            </div>
        </div>

        <div class="tab-content" id="users">
            <div class="card">
                <h3>KayÄ±tlÄ± KullanÄ±cÄ±lar (<span id="total-users-count">0</span>)</h3>
                <div class="user-management-actions" style="margin-bottom: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <input type="text" id="new-username" placeholder="KullanÄ±cÄ± AdÄ±" class="input-light" style="padding: 8px; border-radius: 4px; border: 1px solid #444; background: #222; color: #fff;">
                    <input type="password" id="new-password" placeholder="Åifre" class="input-light" style="padding: 8px; border-radius: 4px; border: 1px solid #444; background: #222; color: #fff;">
                    <button id="btn-add-user" class="btn-success" style="padding: 8px 16px;">Ekle</button>
                </div>
                <div style="overflow-x: auto;">
                    <table class="users-table" style="width: 100%; border-collapse: collapse; text-align: left; margin-bottom: 15px;">
                        <thead>
                            <tr style="border-bottom: 2px solid #555;">
                                <th style="padding: 10px;">KullanÄ±cÄ± AdÄ±</th>
                                <th style="padding: 10px;">Ãœye Kodu</th>
                                <th style="padding: 10px;">Elo</th>
                                <th style="padding: 10px;">MaÃ§</th>
                                <th style="padding: 10px;">Son GÃ¶rÃ¼lme</th>
                                <th style="padding: 10px;">Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <tr><td colspan="6" style="text-align: center; padding: 20px;">YÃ¼kleniyor...</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination" style="display: flex; justify-content: space-between; align-items: center;">
                    <button id="btn-prev-page" class="btn-secondary" disabled>Ã–nceki</button>
                    <span id="page-info">Sayfa 1 / 1</span>
                    <button id="btn-next-page" class="btn-secondary" disabled>Sonraki</button>
                </div>
            </div>
        </div>

        <div class="tab-content" id="settings">
            <div class="card">
                <h3>BaÅŸlangÄ±Ã§ AyarlarÄ±</h3>
                <div class="setting-item">
                    <div>
                        <strong>Windows BaÅŸlangÄ±cÄ±nda Ã‡alÄ±ÅŸtÄ±r</strong>
                        <p class="hint">Bilgisayar aÃ§Ä±ldÄ±ÄŸÄ±nda sunucu arkaplanda otomatik baÅŸlar.</p>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="setting-autostart">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>

            <div class="card mt-20">
                <h3>Oda & Oyuncu AyarlarÄ±</h3>
                <div class="setting-item">
                    <div>
                        <strong>BoÅŸ OdalarÄ± Otomatik Kapat</strong>
                        <p class="hint">Ä°Ã§inde oyuncu kalmayan odalar 1 dakika sonra sistemden silinir.</p>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="setting-autoclose" checked disabled>
                        <span class="slider round"></span>
                    </label>
                </div>
                <p class="hint mt-10" style="color: #4CAF50;">Aktif ve varsayÄ±lan olarak devrededir.</p>
            </div>
        </div>

        <div class="tab-content" id="logs">
            <div class="card logs-card">
                <div class="logs-header">
                    <h3>Sunucu Konsolu</h3>
                    <button id="btn-clear-logs" class="btn-secondary">Temizle</button>
                </div>
                <div class="terminal" id="terminal-output"></div>
            </div>
        </div>

        <div class="tab-content" id="about">
            <div class="card">
                <h3>Ã‡ivi Futbolu YaratÄ±cÄ±sÄ±</h3>
                <p>2D Fizik TabanlÄ±, Node.js ve JavaScript destekli Ã‡ok Oyunculu Spor Oyunu.</p>
                <p><strong>Versiyon:</strong> 1.1.0</p>
                
                <div class="update-section mt-20">
                    <button id="btn-check-update" class="btn-secondary">GÃ¼ncellemeleri Kontrol Et</button>
                    <p id="update-status" class="mt-10"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Connection Lost Overlay -->
    <div id="overlay" class="overlay hidden">
        <div class="overlay-content">
            <h2>âš ï¸ BaÄŸlantÄ± Koptu</h2>
            <p>Arkaplan yÃ¶neticisiyle iletiÅŸim kurulamÄ±yor.</p>
            <p>ArayÃ¼z kapatÄ±lmÄ±ÅŸ olabilir.</p>
            <button onclick="location.reload()" class="btn-secondary mt-20">Yeniden YÃ¼kle</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
