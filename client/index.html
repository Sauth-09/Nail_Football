<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Çivi Futbolu - Fizik tabanlı sıra bazlı 2 kişilik futbol oyunu">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>⚽ Çivi Futbolu - Nail Football</title>
    <link rel="icon" href="futbol.ico" type="image/x-icon">
    <link rel="shortcut icon" href="futbol.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css?v=1.1">
    <link rel="stylesheet" href="css/friends.css?v=1.1">
    <link rel="stylesheet" href="css/notifications.css?v=1.1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ═══════════════════════════════════════ -->
    <!-- Ana Menü -->
    <!-- ═══════════════════════════════════════ -->
    <div id="main-menu" class="screen active">
        <!-- Football field background decoration -->
        <div class="field-bg">
            <div class="field-line center-line"></div>
            <div class="field-line center-circle"></div>
            <div class="field-line penalty-left"></div>
            <div class="field-line penalty-right"></div>
            <div class="floating-ball ball-1">⚽</div>
            <div class="floating-ball ball-2">⚽</div>
            <div class="floating-ball ball-3">⚽</div>
            <div class="stadium-glow"></div>
        </div>
        <div class="menu-container">
            <div class="menu-header">
                <img src="futbol.ico" alt="Çivi Futbolu Logo" class="game-logo">
                <h1 class="game-title">ÇİVİ FUTBOLU</h1>
                <p class="game-subtitle">⚡ NAIL FOOTBALL ⚡</p>
                <p class="game-tagline">Fizik tabanlı heyecan dolu futbol!</p>
            </div>
            <div id="user-info-bar" class="user-info-bar" style="display:none">
                <span id="user-display-name">👤 —</span>
                <span id="user-display-code" class="member-code-badge">#----</span>
                <span id="user-display-elo" class="elo-badge">Elo: —</span>
            </div>
            <div class="menu-buttons">
                <!-- Yeni AI Modu Butonu -->
                <button id="btn-vs-ai" class="menu-btn primary pulse-btn">
                    <span class="btn-icon">🤖</span>
                    <span class="btn-text">BİLGİSAYARA KARŞI</span>
                </button>
                <div class="menu-section-title" style="color: #8892b0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; text-align: center; margin-top: 4px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 10px;">👥 2 Kişilik Oyun</div>
                <div class="menu-row">
                    <button id="btn-local" class="menu-btn secondary">
                        <span class="btn-icon">🏠</span>
                        <span class="btn-text" style="font-size: 0.8em">AYNI EKRAN</span>
                    </button>
                    <button id="btn-multiplayer" class="menu-btn secondary">
                        <span class="btn-icon">🌐</span>
                        <span class="btn-text" style="font-size: 0.8em">ONLİNE</span>
                    </button>
                </div>
                <button id="btn-friends" class="menu-btn secondary">
                    <span class="btn-icon">👥</span>
                    <span class="btn-text">ARKADAŞLAR</span>
                    <span id="friends-online-count" class="online-badge" style="display:none"></span>
                </button>
                <div class="menu-row">
                    <button id="btn-tournament" class="menu-btn">
                        <span class="btn-icon">🏆</span>
                        <span class="btn-text">TURNUVA</span>
                    </button>
                    <button id="btn-leaderboard" class="menu-btn">
                        <span class="btn-icon">📊</span>
                        <span class="btn-text">SKORLAR</span>
                    </button>
                </div>
                <div class="menu-row">
                    <button id="btn-profile" class="menu-btn">
                        <span class="btn-icon">👤</span>
                        <span class="btn-text">PROFİL</span>
                    </button>
                    <button id="btn-settings" class="menu-btn">
                        <span class="btn-icon">⚙️</span>
                        <span class="btn-text">AYARLAR</span>
                    </button>
                </div>
                <button id="btn-howto" class="menu-btn">
                    <span class="btn-icon">📖</span>
                    <span class="btn-text">NASIL OYNANIR</span>
                </button>
            </div>
            <div class="menu-footer">
                <p class="footer-text">🌍 Dünya genelinde rakiplerini bul!</p>
                <div style="margin-top: 10px; margin-bottom: 10px;">
                    <span id="global-online-badge" style="background: rgba(0,255,100,0.15); color: #00ff66; padding: 5px 12px; border-radius: 12px; font-size: 0.85em; font-weight: bold; border: 1px solid rgba(0,255,100,0.3); box-shadow: 0 0 10px rgba(0,255,100,0.2);">🟢 Aktif Oyuncu: -</span>
                </div>
                <p class="version">v2.0.0</p>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Saha Seçim Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="field-select" class="screen">
        <div class="screen-header">
            <button id="btn-back-field" class="back-btn">← Menü</button>
            <h2>Saha Seçimi</h2>
            <div class="spacer"></div>
        </div>
        <div class="field-gallery-wrapper">
            <button id="field-prev" class="gallery-arrow left">‹</button>
            <div id="field-gallery" class="field-gallery"></div>
            <button id="field-next" class="gallery-arrow right">›</button>
        </div>
        <div class="field-settings" style="margin-top: 20px; text-align: center;">
            <div class="setting-row" style="justify-content: center; gap: 15px; margin-bottom: 5px;">
                <label for="gk-toggle" style="font-weight: 600;">🥅 Hareketli Kaleci</label>
                <label class="switch">
                    <input type="checkbox" id="gk-toggle" checked>
                    <span class="slider round"></span>
                </label>
                <select id="gk-size" class="menu-select" style="padding: 5px; border-radius: 5px; width: 80px;">
                    <option value="20">Kısa</option>
                    <option value="30" selected>Orta</option>
                    <option value="40">Uzun</option>
                    <option value="60">Dev</option>
                </select>
            </div>
            <p class="setting-desc" style="font-size: 0.85em; opacity: 0.8; margin: 0;">Kalenin önünde hareket eden bir engel ekler.</p>
        </div>
        <button id="btn-start-game" class="menu-btn primary start-btn" style="margin-top: 20px;">OYUNU BAŞLAT</button>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- AI Zorluk Seçim Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="ai-difficulty-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-ai" class="back-btn">← Menü</button>
            <h2>🤖 Rakibini Seç</h2>
            <div class="spacer"></div>
        </div>
        <div class="difficulty-cards">
            <div class="difficulty-card" data-level="easy">
                <div class="card-emoji">😅</div>
                <div class="card-title">ACEMİ ALİ</div>
                <div class="card-subtitle">Çaylak Çırak</div>
                <div class="card-desc">"Yeni öğreniyor, sık hata yapar ama eğlenceli bir rakip!"</div>
                
                <div class="card-stats">
                    <div class="stat-row">
                        <span class="stat-label">Zorluk</span>
                        <span class="stat-value">🟢 KOLAY</span>
                    </div>
                </div>
                <button class="menu-btn easy">SEÇ</button>
            </div>
            
            <div class="difficulty-card" data-level="medium">
                <div class="card-emoji">🧐</div>
                <div class="card-title">USTA HASAN</div>
                <div class="card-subtitle">Deneyimli Dayı</div>
                <div class="card-desc">"Tecrübeli ve dengeli. Kolay lokma değil!"</div>
                
                <div class="card-stats">
                    <div class="stat-row">
                        <span class="stat-label">Zorluk</span>
                        <span class="stat-value">🟡 ORTA</span>
                    </div>
                </div>
                <button class="menu-btn medium">SEÇ</button>
            </div>
            
            <div class="difficulty-card" data-level="hard">
                <div class="card-emoji">😎</div>
                <div class="card-title">KRAL KEREM</div>
                <div class="card-subtitle">Profesyonel Şampiyon</div>
                <div class="card-desc">"Acımasız ve hesaplı. Yenebilirsen kendini kanıtla!"</div>
                
                <div class="card-stats">
                    <div class="stat-row">
                        <span class="stat-label">Zorluk</span>
                        <span class="stat-value">🔴 ZOR</span>
                    </div>
                </div>
                <button class="menu-btn hard">SEÇ</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Multiplayer Lobisi -->
    <!-- ═══════════════════════════════════════ -->
    <div id="multiplayer-lobby" class="screen">
        <div class="screen-header">
            <button id="btn-back-lobby" class="back-btn">← Menü</button>
            <h2>Çok Oyunculu</h2>
            <div class="spacer"></div>
        </div>
        <div class="lobby-container">
            <div class="lobby-section">
                <label for="player-name-input">Oyuncu Adın:</label>
                <input type="text" id="player-name-input" class="text-input" placeholder="Adını yaz..." maxlength="20">
            </div>
            <div class="lobby-buttons">
                <button id="btn-create-room" class="menu-btn primary">
                    <span class="btn-icon">🏠</span>
                    <span class="btn-text">ODA OLUŞTUR</span>
                </button>
                <div class="lobby-divider">veya</div>
                <div class="join-room-row">
                    <input type="tel" id="room-code-input" class="text-input code-input" 
                       placeholder="0000" maxlength="4" pattern="[0-9]*" inputmode="numeric">
                    <button id="btn-join-room" class="menu-btn secondary">KATIL</button>
                </div>
            </div>
            <div id="lobby-status" class="lobby-status"></div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Ayarlar Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="settings-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-settings" class="back-btn">← Menü</button>
            <h2>Ayarlar</h2>
            <div class="spacer"></div>
        </div>
        <div class="settings-container">
            <div class="settings-group">
                <h3>Oyun Ayarları</h3>
                <div class="setting-row">
                    <label>Maç Süresi:</label>
                    <select id="setting-time">
                        <option value="180">3 Dakika</option>
                        <option value="300" selected>5 Dakika</option>
                        <option value="600">10 Dakika</option>
                        <option value="0">Süresiz</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Gol Limiti:</label>
                    <select id="setting-goal-limit">
                        <option value="3">3 Gol</option>
                        <option value="5" selected>5 Gol</option>
                        <option value="10">10 Gol</option>
                        <option value="0">Limitsiz</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Güç Barı Hızı:</label>
                    <select id="setting-power-speed">
                        <option value="0.8">Yavaş</option>
                        <option value="1.5" selected>Normal</option>
                        <option value="2.5">Hızlı</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Top Sürtünmesi:</label>
                    <input type="range" id="setting-friction" min="0.970" max="0.998" step="0.001" value="0.985">
                    <span id="friction-label">Orta</span>
                </div>
            </div>
            <div class="settings-group">
                <h3>Görsel Ayarlar</h3>
                <div class="setting-row">
                    <label>Saha Teması:</label>
                    <select id="setting-theme">
                        <option value="grass" selected>Yeşil Çim</option>
                        <option value="wood">Ahşap Masa</option>
                        <option value="dark">Koyu Tema</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Yön Oku Uzunluğu:</label>
                    <select id="setting-arrow-length">
                        <option value="40">Kısa</option>
                        <option value="110">Orta</option>
                        <option value="180" selected>Uzun</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Parçacık Efektleri:</label>
                    <select id="setting-particles">
                        <option value="1" selected>Açık</option>
                        <option value="0">Kapalı</option>
                    </select>
                </div>
            </div>
            <div class="settings-group">
                <h3>Ses Ayarları</h3>
                <div class="setting-row">
                    <label>Master Ses:</label>
                    <input type="range" id="setting-volume" min="0" max="100" value="70">
                    <span id="volume-label">70%</span>
                </div>
                <div class="setting-row">
                    <label>Efekt Sesleri:</label>
                    <select id="setting-sfx">
                        <option value="1" selected>Açık</option>
                        <option value="0">Kapalı</option>
                    </select>
                </div>
                <div class="setting-row">
                    <label>Titreşim (Mobil):</label>
                    <select id="setting-vibration">
                        <option value="1" selected>Açık</option>
                        <option value="0">Kapalı</option>
                    </select>
                </div>
            </div>
            <div class="settings-group">
                <h3>⚡ Efektler</h3>
                <div class="setting-row">
                    <label>Çivi Kıvılcımları:</label>
                    <input type="checkbox" id="fx-sparks" checked>
                </div>
                <div class="setting-row">
                    <label>Hız İzi:</label>
                    <input type="checkbox" id="fx-speedTrail" checked>
                </div>
                <div class="setting-row">
                    <label>Ekran Sarsıntısı:</label>
                    <input type="checkbox" id="fx-screenShake" checked>
                </div>
                <div class="setting-row">
                    <label>Kale Ağı Yırtılma:</label>
                    <input type="checkbox" id="fx-goalNetRip" checked>
                </div>
                <div class="setting-row">
                    <label>Gol Slow-Motion:</label>
                    <input type="checkbox" id="fx-goalSlowMo" checked>
                </div>
                <div class="setting-row">
                    <label>Top Parlaması:</label>
                    <input type="checkbox" id="fx-ballGlow" checked>
                </div>
                <div class="setting-row">
                    <label>Yakın Kaçış Yazısı:</label>
                    <input type="checkbox" id="fx-nearMiss" checked>
                </div>
                <div class="setting-row">
                    <label>Çarpma Ses Varyasyonları:</label>
                    <input type="checkbox" id="fx-hitSounds" checked>
                </div>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Nasıl Oynanır Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="howto-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-howto" class="back-btn">← Menü</button>
            <h2>Nasıl Oynanır</h2>
            <div class="spacer"></div>
        </div>
        <div class="howto-container">
            <div id="howto-slides" class="howto-slides">
                <div class="howto-slide active" data-slide="0">
                    <div class="howto-icon">🎯</div>
                    <h3>1. Yönü Seç</h3>
                    <p>Sıranız geldiğinde ekrana dokunarak veya fareyi sürükleyerek topun gideceği yönü belirleyin.</p>
                </div>
                <div class="howto-slide" data-slide="1">
                    <div class="howto-icon">💪</div>
                    <h3>2. Gücü Ayarla</h3>
                    <p>Güç barı otomatik hareket eder. Doğru anda dokunarak veya tıklayarak gücü kilitleyin.</p>
                </div>
                <div class="howto-slide" data-slide="2">
                    <div class="howto-icon">📌</div>
                    <h3>3. Çivilere Dikkat</h3>
                    <p>Top çivilere çarparak yön değiştirir. Çivileri avantajınıza kullanın!</p>
                </div>
                <div class="howto-slide" data-slide="3">
                    <div class="howto-icon">⚽</div>
                    <h3>4. Gol At!</h3>
                    <p>Topu rakip kaleye sokarak gol atın. Her gol bir puan kazandırır.</p>
                </div>
                <div class="howto-slide" data-slide="4">
                    <div class="howto-icon">🏆</div>
                    <h3>5. Kazan!</h3>
                    <p>Sırayla oynayın, en çok golü atan kazanır! Süre dolduğunda veya gol limitine ulaşıldığında oyun biter.</p>
                </div>
            </div>
            <div class="howto-nav">
                <button id="howto-prev" class="howto-nav-btn" disabled>← Önceki</button>
                <div id="howto-dots" class="howto-dots"></div>
                <button id="howto-next" class="howto-nav-btn">Sonraki →</button>
            </div>
            <button id="howto-skip" class="menu-btn">Atla</button>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Oyun Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="game-screen" class="screen">
        <!-- HUD - Üst Bar -->
        <div id="game-hud" class="game-hud">
            <div class="hud-left">
                <button id="btn-back-game" class="back-btn small">← Menü</button>
            </div>
            <div class="hud-score">
                <div class="score-player score-p1">
                    <span class="player-indicator p1">🔵</span>
                    <span id="p1-name" class="player-name">Oyuncu 1</span>
                    <span id="p1-score" class="score-value">0</span>
                </div>
                <div class="score-timer">
                    <span id="game-timer">05:00</span>
                </div>
                <div class="score-player score-p2">
                    <span id="p2-score" class="score-value">0</span>
                    <span id="p2-name" class="player-name">Oyuncu 2</span>
                    <span class="player-indicator p2">🔴</span>
                </div>
            </div>
            <div class="hud-right">
                <button id="btn-sound-toggle" class="icon-btn">🔊</button>
                <button id="btn-fullscreen" class="icon-btn">⛶</button>
            </div>
        </div>

        <!-- Canvas Container -->
        <div id="canvas-container" class="canvas-container">
            <canvas id="game-canvas"></canvas>
            
            <!-- Turn Indicator -->
            <div id="turn-indicator" class="turn-indicator">
                <span id="turn-text">🔵 Oyuncu 1'in Sırası - Yönü Seç!</span>
            </div>
        </div>

        <!-- Power Bar -->
        <div id="power-bar-container" class="power-bar-container hidden">
            <div class="power-bar-bg">
                <div id="power-bar-fill" class="power-bar-fill"></div>
                <div id="power-bar-marker" class="power-bar-marker"></div>
            </div>
            <div class="power-bar-labels">
                <span>0%</span>
                <span>50%</span>
                <span>100%</span>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Auth Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="auth-screen" class="screen">
        <div class="screen-header" style="justify-content: flex-start; margin-bottom: 2rem;">
            <button id="btn-back-auth" class="back-btn">← Menü</button>
        </div>
        <div class="menu-container">
            <div class="menu-header">
                <h1 class="game-title">👤 Giriş Yap</h1>
                <p class="game-tagline">Turnuva, arkadaş ve skor tablosu için giriş gereklidir</p>
            </div>
            <div class="auth-form">
                <input type="text" id="auth-username" class="text-input" placeholder="Kullanıcı adını yaz..." maxlength="20" minlength="2">
                <input type="password" id="auth-password" class="text-input" placeholder="Şifrenizi yazın (en az 4 hane)..." minlength="4">
                <div class="menu-row">
                    <button id="btn-auth-login" class="menu-btn primary">GİRİŞ YAP</button>
                    <button id="btn-auth-register" class="menu-btn secondary">KAYIT OL</button>
                </div>
                <p id="auth-error" class="auth-error" style="display:none"></p>
                <br>
                <button id="btn-auth-skip" class="menu-btn">Atla (Misafir)</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Skor Tablosu -->
    <!-- ═══════════════════════════════════════ -->
    <div id="leaderboard-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-leaderboard" class="back-btn">← Menü</button>
            <h2>📊 Skor Tablosu</h2>
            <div class="spacer"></div>
        </div>
        <div class="leaderboard-container">
            <div class="leaderboard-tabs">
                <button class="lb-tab active" data-type="weekly">Haftalık</button>
                <button class="lb-tab" data-type="monthly">Aylık</button>
                <button class="lb-tab" data-type="alltime">Tüm Zamanlar</button>
            </div>
            <div id="lb-period" class="lb-period"></div>
            <div id="lb-table-container" class="lb-table-container">
                <div class="lb-loading">Yükleniyor...</div>
            </div>
            <div id="lb-my-rank" class="lb-my-rank" style="display:none"></div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Turnuva Listesi -->
    <!-- ═══════════════════════════════════════ -->
    <div id="tournament-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-tournament" class="back-btn">← Menü</button>
            <h2>🏆 Turnuvalar</h2>
            <div class="spacer"></div>
        </div>
        <div class="tournament-container">
            <div id="tournament-list" class="tournament-list">
                <div class="lb-loading">Yükleniyor...</div>
            </div>
            <button id="btn-create-tournament" class="menu-btn primary">+ YENİ TURNUVA OLUŞTUR</button>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Oyuncu Profili -->
    <!-- ═══════════════════════════════════════ -->
    <div id="profile-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-profile" class="back-btn">← Menü</button>
            <h2>👤 Profilim</h2>
            <div class="spacer"></div>
        </div>
        <div class="profile-container">
            <div class="profile-header">
                <h3 id="profile-username">—</h3>
                <div class="profile-member-code" style="color:#4ecdc4;font-size:14px;margin:4px 0"><span id="profile-member-code">#----</span></div>
                <div class="profile-elo">🏆 Elo: <span id="profile-rating">1000</span></div>
                <div class="profile-joined">📅 Katılım: <span id="profile-joined">—</span></div>
            </div>
            <div class="profile-stats">
                <div class="stat-card"><div class="stat-value" id="profile-matches">0</div><div class="stat-label">Maç</div></div>
                <div class="stat-card"><div class="stat-value" id="profile-wins">0</div><div class="stat-label">Galibiyet</div></div>
                <div class="stat-card"><div class="stat-value" id="profile-losses">0</div><div class="stat-label">Mağlubiyet</div></div>
                <div class="stat-card"><div class="stat-value" id="profile-winrate">0%</div><div class="stat-label">Kazanma</div></div>
            </div>
            <div class="profile-extra">
                <p>⚽ Atılan: <span id="profile-goals-scored">0</span> | Yenilen: <span id="profile-goals-conceded">0</span></p>
                <p>🔥 Seri: <span id="profile-streak">0</span> | En İyi: <span id="profile-best-streak">0</span></p>
                <p>🏆 Turnuva: <span id="profile-tournaments-won">0</span>/<span id="profile-tournaments-played">0</span></p>
                <p>🤖 AI Modu: <span id="profile-ai-wins">0</span> Galibiyet / <span id="profile-ai-matches">0</span> Maç</p>
            </div>
            <h4>Son Maçlar</h4>
            <div id="profile-recent-matches" class="profile-recent-matches">
                <p class="muted">Henüz maç yok</p>
            </div>
            <div style="margin-top:20px; text-align:center;">
                <button id="btn-profile-logout" class="menu-btn" style="background:var(--color-red, #ff4757);color:white;width:100%;">OTURUMU KAPAT</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Turnuva Oluşturma Modal -->
    <!-- ═══════════════════════════════════════ -->
    <div id="tournament-create-modal" class="modal hidden">
        <div class="modal-content">
            <h2>🏆 Yeni Turnuva Oluştur</h2>
            <div class="form-group">
                <label>Turnuva Adı:</label>
                <input type="text" id="tournament-name" class="text-input" placeholder="Turnuva adı..." maxlength="30">
            </div>
            <div class="form-group">
                <label>Kişi Sayısı:</label>
                <div class="btn-group">
                    <button class="option-btn" data-value="4">4</button>
                    <button class="option-btn active" data-value="8">8</button>
                    <button class="option-btn" data-value="16">16</button>
                </div>
            </div>
            <div class="form-group">
                <label>Gol Limiti:</label>
                <div class="btn-group">
                    <button class="option-btn" data-value="3">3</button>
                    <button class="option-btn active" data-value="5">5</button>
                    <button class="option-btn" data-value="7">7</button>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="btn-tournament-cancel" class="menu-btn">İPTAL</button>
                <button id="btn-tournament-create-confirm" class="menu-btn primary">OLUŞTUR</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Oyun Sonu Modal -->
    <!-- ═══════════════════════════════════════ -->
    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content game-over-content">
            <div class="game-over-trophy">🏆</div>
            <h2 id="game-over-title">OYUN BİTTİ!</h2>
            <p id="game-over-winner" class="game-over-winner"></p>
            <p id="game-over-score" class="game-over-score"></p>
            <div id="game-over-elo" class="game-over-elo" style="display:none"></div>
            <div class="modal-buttons">
                <button id="btn-replay" class="menu-btn primary">TEKRAR OYNA</button>
                <button id="btn-to-menu" class="menu-btn">ANA MENÜ</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Onay Diyaloğu -->
    <!-- ═══════════════════════════════════════ -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <p id="confirm-text">Oyundan çıkmak istediğinize emin misiniz?</p>
            <div class="modal-buttons">
                <button id="btn-confirm-yes" class="menu-btn primary">Evet</button>
                <button id="btn-confirm-no" class="menu-btn">Hayır</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Gol Animasyon Overlay -->
    <!-- ═══════════════════════════════════════ -->
    <div id="goal-overlay" class="goal-overlay hidden">
        <div id="goal-text" class="goal-text">GOOOL!</div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Arkadaşlar Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="friends-screen" class="screen">
        <div class="screen-header">
            <button id="btn-back-friends" class="back-btn">← Menü</button>
            <h2>👥 ARKADAŞLAR</h2>
            <div class="spacer"></div>
        </div>
        <div class="friends-container">
            <div class="member-code-display">
                <span class="code-label">Üye Kodun:</span>
                <span id="my-member-code" class="code-value">#----</span>
                <button id="btn-copy-code" class="copy-btn">📋 Kopyala</button>
            </div>
            <div class="friend-search-box">
                <input type="text" id="friend-search-input" placeholder="Üye kodu yaz..." maxlength="5">
                <button id="btn-friend-search" class="search-btn">🔍 ARA</button>
            </div>
            <div id="friend-search-result"></div>
            <div id="friends-pending-container"></div>
            <div id="friends-list-container"></div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Challenge Modal -->
    <!-- ═══════════════════════════════════════ -->
    <div id="challenge-modal" class="modal hidden">
        <div class="modal-content challenge-modal-content">
            <h2>⚔️ <span class="challenge-target-name">—</span>'e Meydan Oku</h2>
            <div class="form-group">
                <label>Saha Seç:</label>
                <div class="challenge-field-grid">
                    <button class="challenge-field-btn selected" data-field="classic">⚽ Klasik</button>
                    <button class="challenge-field-btn" data-field="zigzag">⚡ Zigzag</button>
                    <button class="challenge-field-btn" data-field="diamond">💎 Elmas</button>
                    <button class="challenge-field-btn" data-field="spiral">🌀 Spiral</button>
                    <button class="challenge-field-btn" data-field="chaotic">💥 Kaotik</button>
                    <button class="challenge-field-btn" data-field="castle">🏰 Kale</button>
                </div>
            </div>
            <div class="form-group">
                <label>Gol Limiti:</label>
                <div class="challenge-goal-grid">
                    <button class="challenge-goal-btn" data-goal="3">3</button>
                    <button class="challenge-goal-btn selected" data-goal="5">5</button>
                    <button class="challenge-goal-btn" data-goal="7">7</button>
                    <button class="challenge-goal-btn" data-goal="10">10</button>
                </div>
            </div>
            <div class="form-group" style="margin-top: 15px; text-align: center;">
                <div class="setting-row" style="justify-content: center; gap: 15px; margin-bottom: 5px;">
                    <label for="challenge-gk-toggle" style="font-weight: 600;">🥅 Hareketli Kaleci</label>
                    <label class="switch">
                        <input type="checkbox" id="challenge-gk-toggle" checked>
                        <span class="slider round"></span>
                    </label>
                    <select id="challenge-gk-size" class="menu-select" style="padding: 5px; border-radius: 5px; width: 80px;">
                        <option value="20">Kısa</option>
                        <option value="30" selected>Orta</option>
                        <option value="40">Uzun</option>
                        <option value="60">Dev</option>
                    </select>
                </div>
                <p class="setting-desc" style="font-size: 0.8em; opacity: 0.8; margin: 0;">Kalenin önünde hareket eden bir engel ekler.</p>
            </div>
            <div class="modal-buttons" style="margin-top: 20px;">
                <button id="btn-challenge-cancel" class="menu-btn">İPTAL</button>
                <button id="btn-challenge-send" class="menu-btn primary">⚔️ GÖNDER</button>
            </div>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- Challenge Bekleme Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="challenge-waiting-screen" class="screen">
        <div class="waiting-container">
            <div class="waiting-title">⏳ <span class="waiting-opponent-name">—</span>'in yanıtı bekleniyor...</div>
            <div class="waiting-vs-card">
                <span>👤 Sen</span>
                <span>⚔️ bekliyor</span>
                <span>👤 <span class="waiting-opponent-name">—</span></span>
            </div>
            <div class="waiting-match-info">
                <div class="waiting-field">Saha: —</div>
                <div class="waiting-goal">Gol: —</div>
            </div>
            <div class="waiting-timer">
                <div class="waiting-timer-text">30 saniye</div>
                <div class="waiting-timer-bar-bg">
                    <div class="waiting-timer-bar"></div>
                </div>
            </div>
            <button id="btn-challenge-cancel-waiting" class="menu-btn">İPTAL ET</button>
        </div>
    </div>

    <!-- ═══════════════════════════════════════ -->
    <!-- VS Ekranı -->
    <!-- ═══════════════════════════════════════ -->
    <div id="challenge-vs-screen" class="screen">
        <div class="vs-container">
            <div class="vs-title">⚔️ MAÇ BAŞLIYOR!</div>
            <div class="vs-players">
                <div class="vs-player-card">
                    <div class="player-name vs-player1-name">—</div>
                    <div class="player-code vs-player1-code">#----</div>
                    <div class="player-rating vs-player1-rating">⭐ 0</div>
                </div>
                <div class="vs-label">VS</div>
                <div class="vs-player-card">
                    <div class="player-name vs-player2-name">—</div>
                    <div class="player-code vs-player2-code">#----</div>
                    <div class="player-rating vs-player2-rating">⭐ 0</div>
                </div>
            </div>
            <div class="vs-match-info">
                <div class="vs-field">Saha: —</div>
                <div class="vs-goal-limit">Gol Limiti: —</div>
            </div>
            <div class="vs-countdown">3...</div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <!-- AI Modules -->
    <script src="js/ai/aiSimulator.js?v=1.1"></script>
    <script src="js/ai/aiStrategy.js?v=1.1"></script>
    <script src="js/ai/aiPersonality.js?v=1.1"></script>
    <script src="js/ai/aiAnimator.js?v=1.1"></script>
    <script src="js/ai/aiPlayer.js?v=1.1"></script>

    <!-- Core Modules -->
    <script src="js/soundManager.js?v=1.1"></script>
    <script src="js/animationManager.js?v=1.1"></script>
    <script src="js/effectsManager.js?v=1.1"></script>
    <script src="js/physicsClient.js?v=1.1"></script>
    <script src="js/fieldRenderer.js?v=1.1"></script>
    <script src="js/gameRenderer.js?v=1.1"></script>
    <script src="js/inputHandler.js?v=1.1"></script>
    <script src="js/networkManager.js?v=1.1"></script>
    <script src="js/authManager.js?v=1.1"></script>
    <script src="js/notificationManager.js?v=1.1"></script>
    <script src="js/friends.js?v=1.1"></script>
    <script src="js/challengeUI.js?v=1.1"></script>
    <script src="js/leaderboard.js?v=1.1"></script>
    <script src="js/tournament.js?v=1.1"></script>
    <script src="js/uiManager.js?v=1.1"></script>
    <script src="js/main.js?v=1.1"></script>
</body>
</html>
